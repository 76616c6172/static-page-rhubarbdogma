<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cluton Crater Map</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }
        .header-link {
            font-family: "Times New Roman", serif;
            font-size: 1.5rem;
            text-decoration: none;
            color: inherit;
        }
        .header-link:hover {
            text-decoration: underline;
        }
        .header {
            position: absolute;
            top: 0;
            left: 0;
            margin: 1rem;
        }
        .image-container {
            position: relative;
            transform: scale(1.3);
            transform-origin: center center;
        }
        img {
            display: block;
        }
        .highlight-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <header class="header">
        <a href="/" class="header-link">rhubarb dogma</a>
    </header>
    <div class="image-container">
        <img src="cluton crater.jpg" usemap="#image-map" alt="Cluton Crater">
        <map name="image-map">
            <area target="_self" alt="Cluton Crater" href="http://localhost:8000/ytc%20image%20maps/cluton%20map/cluton%20addicts.jpg" coords="381,160,349,164,336,168,321,170,307,175,292,182,279,189,263,195,247,205,235,215,223,225,203,234,196,241,187,248,179,256,174,266,171,277,163,291,161,305,167,321,174,331,182,343,191,350,197,359,210,365,222,373,234,373,245,373,253,378,262,382,274,387,285,393,297,398,307,401,325,404,341,403,353,402,365,402,380,406,395,410,407,415,423,419,442,424,457,424,467,425,479,422,494,419,504,415,514,413,529,414,544,413,553,411,566,411,577,411,586,411,598,411,613,409,626,409,647,409,662,405,679,403,695,397,709,392,717,383,729,374,741,367,754,358,763,350,765,337,765,321,765,308,770,294,769,283,764,275,753,265,741,255,729,245,717,238,705,228,690,219,681,210,670,201,659,191,653,182,642,177,633,179,621,177,614,170,598,165,583,159,569,159,557,158,547,156,535,154,523,150,503,149,472,150,453,153,433,155,411,159,398,162" shape="poly">
        </map>
    </div>

    <script>
        function createPolygonPath(coords) {
            const points = coords.split(',').map(Number);
            let path = '';
            for (let i = 0; i < points.length; i += 2) {
                path += `${points[i]},${points[i + 1]} `;
            }
            return path.trim();
        }

        function createHighlight(area) {
            const container = document.querySelector('.image-container');
            const img = container.querySelector('img');

            let highlightContainer = container.querySelector('.highlight-container');
            if (!highlightContainer) {
                highlightContainer = document.createElement('div');
                highlightContainer.className = 'highlight-container';
                container.appendChild(highlightContainer);
            }

            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.style.position = 'absolute';
            svg.style.top = '0';
            svg.style.left = '0';
            svg.style.width = '100%';
            svg.style.height = '100%';
            svg.setAttribute('viewBox', `0 0 ${img.naturalWidth} ${img.naturalHeight}`);
            svg.style.pointerEvents = 'none';

            const polygon = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
            polygon.setAttribute('points', createPolygonPath(area.coords));
            polygon.setAttribute('fill', 'none');

            svg.appendChild(polygon);
            highlightContainer.appendChild(svg);

            area.polygonEl = polygon;
        }

        window.addEventListener('load', () => {
            const areas = document.querySelectorAll('area');
            areas.forEach(area => {
                createHighlight(area);

                area.addEventListener('mouseenter', () => {
                    if (area.polygonEl) {
                        area.polygonEl.setAttribute('stroke', 'rgba(105, 105, 105, 0.5)');
                        area.polygonEl.setAttribute('stroke-width', '2');
                        area.polygonEl.style.filter = 'drop-shadow(0 0 20px dimgrey)';
                    }
                });

                area.addEventListener('mouseleave', () => {
                    if (area.polygonEl) {
                        area.polygonEl.removeAttribute('stroke');
                        area.polygonEl.removeAttribute('stroke-width');
                        area.polygonEl.style.filter = 'none';
                    }
                });
            });
        });
    </script>
</body>
</html> 